<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Complex Mappings</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js"></script>

  <!--  bootstrap stuff, can delete if not using-->
  <!--  use this tutorial for popover: https://www.w3schools.com/bootstrap/bootstrap_popover.asp-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body>
  <div id='text-exp'>
    <h1 class>Complex Mappings</h1>

    <p>This is an interactive program providing a visualization of mappings of complex functions, that is, functions with a complex input and a complex output.</p>
    <p>To use the program, draw on the graph (input complex plane) on the left. As you draw, the points will be mapped using the function <em>f</em> and appear on the graph on the right.</p>
    <p>Note that for some functions, like <em>f(z)=log(z)</em> and <em>f(z)=sqrt(z)</em>, there are multiple (or even infinite) values of <em>f(z)</em> that would be satisfactory. In these cases, we choose the value of <em>f(z)</em> belonging to the principle branch of <em>f</em>. To visualize all satisfactory values, you would need to work with Riemann Surfaces (and would need more than two dimensions).</p>

    
  </div>
  
  <div id='program'>
    <div id='fzBox'>
      <div id='fzOptions'>
        <span id='colorSchemeText'>Color scheme: </span>
        <select name='colorSchemes' id='colorSchemeSelector'>
          <option value="standard">standard</option>
          <option value="monochrome">monochrome</option>
          <option value="rainbow">rainbow</option>
        </select>
        <br>
        <label for="f(z)">f(z)=</label>
        <input type="text" id="functionInput" data-toggle="popover", data-trigger="focus">
        <button id='plotItButton'>Plot it!</button>
        <br>
        <button id='deleteButton' onclick='clearPts();'>Delete all points</button>
        <button id='fitToPtsButton' onclick='fitToPts();'>Fit to Points</button>
        
      </div>
    </div>
    <div id='canvas'></div>
    <script>
  
  </script>
  
    <script src="complexNumber.js"></script>
    <script src="script.js"></script>
    <script src="complexPlanePlot.js"></script>
    <script src="equationParser.js"></script>
    <script>
      let colorSchemeSelector = document.getElementById('colorSchemeSelector');
      colorSchemeSelector.oninput = function () {
        setColorScheme(this.value);
      }

      let plotItButton = document.getElementById('plotItButton');
      let functionInput = document.getElementById('functionInput');
      plotItButton.onclick = function() {
        let error = setFPostfix(functionInput.value);

        // add a popover and change styling if there's an error
        if(error) {
          functionInput.setAttribute("title", error);
          functionInput.setAttribute("style", "border-color:#ff0000; background-color:#ffdddd;");
          $(functionInput).popover();
        }
        else {
          functionInput.removeAttribute("style");
          $(functionInput).popover('destroy');
        }
      }
    </script>
  </div>

</body>

</html>